---
title: "Getting started"
author: "Colin Millar"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Getting started}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

First lets create some data and fit a basic model, this will introduce the format of the data required and also the basics of model fitting.  The most basic sample is one in which there are 3 passes and 2 lifestages; this constitutes a single sample.

```{r, echo = FALSE}
library(ef)
```

```{r}
# create a single electrofishing site visit with 3 passes and 2 lifestages
ef_data <- data.frame(n      = c(100, 53, 24, 50, 26, 12),
                      pass   = c(  1,  2,  3,  1,  2,  3),
                      stage  = c(  1,  1,  1,  2,  2,  2),
                      sample = c(  1,  1,  1,  2,  2,  2))
ef_data
```

A sensible model to fit to this is one where the capture probability is constant accross passes but varies by lifestage.  This can be acheived by

```{r}
# Fit a simple model
m1 <- efp(n ~ 1 + factor(stage), data = ef_data, pass = pass, id = sample)
m1
```

Notice that it is nessicary to supply the information on which electrifishing pass via the argument 'pass', and the passes have to be linked using the argument 'id'. 


